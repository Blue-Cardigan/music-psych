interface SongMapping {
  embeddingTitle: string;
  embeddingArtist: string;
  spotifyTitle: string;
  spotifyArtist: string;
}

export const songNameMapping: SongMapping[] = [
  {
    embeddingTitle: "Alal치 da Pena",
    embeddingArtist: "Alal치 da Pena",
    spotifyTitle: "Alal치 da pena",
    spotifyArtist: "Fuxan Os Ventos"
  },
  {
    embeddingTitle: "BAILAORA 游",
    embeddingArtist: "DELLAFUENTE",
    spotifyTitle: "Bailaora",
    spotifyArtist: "DELLAFUENTE"
  },
  {
    embeddingTitle: "Dancin In The Garage",
    embeddingArtist: "Dancin In The Garage",
    spotifyTitle: "Dancin In The Garage",
    spotifyArtist: "Sweely"
  },
  {
    embeddingTitle: "DJ Tony Pecino X Montelier",
    embeddingArtist: "Desconectado",
    spotifyTitle: "Dale Baile Baile",
    spotifyArtist: "Chris Paradise"
  },
  {
    embeddingTitle: "Places Like This",
    embeddingArtist: "Dettmann & Klock",
    spotifyTitle: "Places Like This",
    spotifyArtist: "Marcel Dettmann"
  },
  {
    embeddingTitle: "Massive",
    embeddingArtist: "Drake",
    spotifyTitle: "Massive",
    spotifyArtist: "Drake"
  },
  {
    embeddingTitle: "Entero Pa' Ti (Videoclip Oficial)",
    embeddingArtist: "El Combo Dominicano",
    spotifyTitle: "Maldito Flow - Euro Remix",
    spotifyArtist: "Kalimete"
  },
  {
    embeddingTitle: "ATMOSPHERE [LYRIC VIDEO]",
    embeddingArtist: "FISHER x KITA ALEXANDER",
    spotifyTitle: "Atmosphere",
    spotifyArtist: "FISHER"
  },
  {
    embeddingTitle: "Guess Who's Back",
    embeddingArtist: "Guess Who's Back",
    spotifyTitle: "Guess Who's Back",
    spotifyArtist: "Rakim"
  },
  {
    embeddingTitle: "Hook N Sling ft",
    embeddingArtist: "Hook N Sling ft",
    spotifyTitle: "Grid Iron Rap",
    spotifyArtist: "Method Man"
  },
  {
    embeddingTitle: "I've Got Your Love",
    embeddingArtist: "I've Got Your Love",
    spotifyTitle: "I've Got A Feeling",
    spotifyArtist: "Jessica Pratt"
  },
  {
    embeddingTitle: "Ice Cube, Mack 10, Ms",
    embeddingArtist: "Ice Cube, Mack 10, Ms",
    spotifyTitle: "You Can Do It",
    spotifyArtist: "Ice Cube"
  },
  {
    embeddingTitle: "Idilio",
    embeddingArtist: "Idilio",
    spotifyTitle: "Idilios",
    spotifyArtist: "Grupo Idilio"
  },
  {
    embeddingTitle: "Intentions",
    embeddingArtist: "Jay De Lys, Piem",
    spotifyTitle: "Intentions",
    spotifyArtist: "Jay de Lys"
  },
  {
    embeddingTitle: "En Barranquilla Me Quedo",
    embeddingArtist: "Joe Arroyo",
    spotifyTitle: "En Barranquilla Me Quedo",
    spotifyArtist: "Joe Arroyo"
  },
  {
    embeddingTitle: "La Noche Mas Linda",
    embeddingArtist: "La Noche Mas Linda",
    spotifyTitle: "La Noche Mas Linda",
    spotifyArtist: "La Organizaci칩n"
  },
  {
    embeddingTitle: "Lavandeira",
    embeddingArtist: "Lavandeira",
    spotifyTitle: "lavande",
    spotifyArtist: "Ethan 칄lgar"
  },
  {
    embeddingTitle: "Snooze You Lose [RWL004]",
    embeddingArtist: "Niko Maxen",
    spotifyTitle: "Ones N' Twos",
    spotifyArtist: "4Mr Frank White"
  },
  {
    embeddingTitle: "Echoes (Official Audio)",
    embeddingArtist: "Pink Floyd",
    spotifyTitle: "The Interview",
    spotifyArtist: "The Smashing Pumpkins"
  },
  {
    embeddingTitle: "Sofisticate",
    embeddingArtist: "Sofisticate",
    spotifyTitle: "Sofisticate",
    spotifyArtist: "Sofisticate Dreams"
  },
  {
    embeddingTitle: "Sucias",
    embeddingArtist: "Sucias",
    spotifyTitle: "Sucias",
    spotifyArtist: "Diego Cardarelli"
  },
  {
    embeddingTitle: "Time for Freakness (On the Ride) [PAGER014]",
    embeddingArtist: "Sweely",
    spotifyTitle: "Time for Freakness",
    spotifyArtist: "Sweely"
  },
  {
    embeddingTitle: "S칤samo",
    embeddingArtist: "S칤samo",
    spotifyTitle: "S칤samo",
    spotifyArtist: "Baiuca"
  },
  {
    embeddingTitle: "At The Door (Official Video)",
    embeddingArtist: "The Strokes",
    spotifyTitle: "At The Door",
    spotifyArtist: "The Strokes"
  },
  {
    embeddingTitle: "Fake Friends (Extended)",
    embeddingArtist: "Trace",
    spotifyTitle: "Fake Friends",
    spotifyArtist: "Trace"
  },
  {
    embeddingTitle: "Ven bailar Carmi침a",
    embeddingArtist: "Ven bailar Carmi침a",
    spotifyTitle: "Ven bailar Carmi침a",
    spotifyArtist: "Radio Cos"
  },
  {
    embeddingTitle: "ABUSADORA",
    embeddingArtist: "WILFRIDO VARGAS",
    spotifyTitle: "Abusadora",
    spotifyArtist: "Wilfrido Vargas"
  },
  {
    embeddingTitle: "Who Dares To Believe In Me (Extended Mix)",
    embeddingArtist: "Who Dares To Believe In Me (Extended Mix)",
    spotifyTitle: "Who Dares To Believe In Me?",
    spotifyArtist: "Marco Lys"
  },
  {
    embeddingTitle: "Buscando Guayaba (Letras垢Lyrics)",
    embeddingArtist: "Willie Colon & Ruben Blades",
    spotifyTitle: "Buscando Guayaba",
    spotifyArtist: "Willie Colon"
  },
  {
    embeddingTitle: "Wise",
    embeddingArtist: "Wise",
    spotifyTitle: "Bring Me Sunshine",
    spotifyArtist: "Morecambe & Wise"
  },
  {
    embeddingTitle: "You Used To Hold Me (Spiritchaser Remix)",
    embeddingArtist: "You Used To Hold Me (Spiritchaser Remix)",
    spotifyTitle: "You Used To Hold Me - Spiritchaser Remix",
    spotifyArtist: "Ralphi Rosario"
  },
  {
    embeddingTitle: "Still Ballin",
    embeddingArtist: "2pac- Still Ballin",
    spotifyTitle: "Still Ballin' - Nitty Remix",
    spotifyArtist: "2Pac"
  }
];

export const findSpotifySong = (embeddingTitle: string, embeddingArtist: string): { title: string; artist: string } | null => {
  console.log('Looking for song:', { embeddingTitle, embeddingArtist });
  
  // Clean up the input strings
  const cleanEmbeddingTitle = embeddingTitle.toLowerCase().replace(/[\(\[].*?[\)\]]/g, '').trim();
  const cleanEmbeddingArtist = embeddingArtist.toLowerCase().replace(/[\(\[].*?[\)\]]/g, '').trim();
  
  console.log('Cleaned input:', { cleanEmbeddingTitle, cleanEmbeddingArtist });

  const mapping = songNameMapping.find(m => {
    const cleanMappingTitle = m.embeddingTitle.toLowerCase().replace(/[\(\[].*?[\)\]]/g, '').trim();
    const cleanMappingArtist = m.embeddingArtist.toLowerCase().replace(/[\(\[].*?[\)\]]/g, '').trim();
    
    console.log('Comparing with:', { cleanMappingTitle, cleanMappingArtist });
    
    return cleanMappingTitle === cleanEmbeddingTitle && 
           cleanMappingArtist === cleanEmbeddingArtist;
  });

  if (mapping) {
    console.log('Found mapping:', mapping);
    return {
      title: mapping.spotifyTitle,
      artist: mapping.spotifyArtist
    };
  }

  console.log('No mapping found');
  return null;
}; 